{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","services/phoneNumbers.js","components/Notification.js","App.js","index.js"],"names":["Filter","filter","handleFilterChange","value","onChange","PersonForm","props","addName","name","number","handleNameChange","handleNumberChange","onSubmit","className","type","Person","person","handleDeleteRequest","onClick","Persons","personsToShow","map","url","numberService","getAll","axios","get","create","newContact","post","update","id","put","deleteContact","delete","Notification","message","text","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","newFilter","setNewFilter","notification","setNotification","useEffect","then","response","data","setTimeout","length","toUpperCase","includes","event","target","preventDefault","nameToAdd","msg","existingContact","find","p","window","confirm","catch","error","console","log","status","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.00ea039f.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = ({ filter, handleFilterChange }) => {\n  return (\n    <div>\n      Search: <input value={filter} onChange={handleFilterChange} />\n    </div>\n  );\n}\n\nexport default Filter;\n","import React from 'react'\n\nconst PersonForm = (props) => {\n  const { addName, name, number, handleNameChange, handleNumberChange} = props;\n  return (\n    <form onSubmit={addName}>\n      <div>\n        Name: <input value={name} onChange={handleNameChange} />\n      </div>\n      <div>\n        Number: <input value={number} onChange={handleNumberChange} />\n      </div>\n      <div>\n        <button className=\"addButton\" type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n}\n\nexport default PersonForm;","import React from 'react';\n\nconst Person = ({ person, handleDeleteRequest }) => {\n  return (\n    <li>\n      {person.name}: {person.number}{' '}\n      <button className=\"deleteButton\" onClick={() => handleDeleteRequest(person)}>delete</button>\n    </li>\n  );\n}\n\nexport default Person;","import React from 'react';\nimport Person from './Person';\n\nconst Persons = ({ personsToShow, handleDeleteRequest }) => {\n  return (\n    <ul>\n      {personsToShow.map(person => {\n        return (<Person key={person.name}\n          person={person}\n          handleDeleteRequest={handleDeleteRequest} />\n        );\n      })}\n    </ul>\n  );\n}\n\nexport default Persons;","import axios from 'axios';\n\nconst url = '/api/persons';\n\nconst getAll = () => {\n  return axios.get(url);\n}\n\nconst create = (newContact) => {\n  return axios.post(url, newContact);\n}\n\nconst update = (id, newContact) => {\n  return axios.put(`${url}/${id}`, newContact);\n}\n\nconst deleteContact = (id) => {\n  return axios.delete(`${url}/${id}`);\n}\n\nconst numberService = { getAll, create, update, deleteContact };\n\nexport default numberService;","import React from 'react';\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null;\n  }\n\n  return (\n    <div className={message.type === \"error\" ? \"error\" : \"notification\"}>\n      {message.text}\n    </div>\n  );\n}\n\nexport default Notification;","import React, { useEffect, useState } from 'react';\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport Persons from './components/Persons';\nimport numberService from './services/phoneNumbers';\nimport Notification from './components/Notification';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [newFilter, setNewFilter] = useState('');\n  const [notification, setNotification] = useState(null);\n\n  useEffect(() => {\n    numberService\n      .getAll()\n      .then(response => {\n        setPersons(response.data);\n      });\n  }, []);\n\n  useEffect(() => {\n    setTimeout(() => {\n      setNotification(null);\n    }, 3000);\n  }, [notification]);\n\n  const addName = (event) => {\n    event.preventDefault();\n    const nameToAdd = { name: newName, number: newNumber };\n    const msg = `${newName} is already in the phonebook. Would you like to replace the old number with the new one?`;\n\n    const existingContact = persons.find(p => p.name === newName);\n    if (existingContact) {\n      if (window.confirm(msg)) {\n        numberService\n          .update(existingContact.id, nameToAdd)\n          .then((response) => {\n            setPersons(persons.map(person => person.id === existingContact.id ? response.data : person));\n            setNotification({ type: \"notification\", text: `Updated ${newName}` });\n          })\n          .catch((error) => {\n            console.log(error.response.data);\n            if (error.response.status === 400) {\n              setNotification({ type: \"error\", text: error.response.data.error });\n            } else {\n              setNotification({ type: \"error\", text: `${newName}'s information is no longer in the server` });\n              setPersons(persons.filter(p => existingContact.id !== p.id));\n            }\n          });\n      }\n    } else {\n      numberService\n        .create(nameToAdd)\n        .then((response) => {\n          setPersons(persons.concat(response.data));\n          setNotification({ type: \"notification\", text: `Added ${newName}` });\n        })\n        .catch(error => {\n          console.log(error.response.data);\n          setNotification({ type: \"error\", text: error.response.data.error });\n        });\n    }\n\n    setNewName('');\n    setNewNumber('');\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  }\n\n  const handleFilterChange = (event) => {\n    setNewFilter(event.target.value);\n  }\n\n  const handleDeleteRequest = (person) => {\n    if (window.confirm(`Delete ${person.name}?`)) {\n      numberService\n        .deleteContact(person.id)\n        .then(() => {\n          setPersons(persons.filter(p => person.id !== p.id));\n          setNotification({ type: \"notification\", text: `Deleted ${person.name}` });\n        })\n        .catch((error) => {\n          setNotification({ type: \"error\", text: `${newName} is not in the server` });\n          setPersons(persons.filter(p => p.id !== person.id))\n        });\n    }\n  }\n\n  const personsToShow = newFilter.length === 0 ?\n    persons :\n    persons.filter(person => person.name.toUpperCase().includes(newFilter.toUpperCase()));\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      {notification !== null && <Notification message={notification} />}\n      <Filter filter={newFilter} handleFilterChange={handleFilterChange} />\n      <h2>Add Contact</h2>\n      <PersonForm addName={addName}\n        name={newName}\n        number={newNumber}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange} />\n      <h2>Contacts</h2>\n      <Persons personsToShow={personsToShow} handleDeleteRequest={handleDeleteRequest} />\n    </div>\n  );\n}\n\nexport default App;","import ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}